(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-151fe62a"],{"2f08":function(t,e,n){t.exports=n.p+"img/noLogin_male.613c2e67.jpg"},"5ff6":function(t,e,n){},"6ba4":function(t,e,n){"use strict";var a=n("aa0e"),s=n.n(a);s.a},"70cd":function(t,e,n){"use strict";var a=n("5ff6"),s=n.n(a);s.a},a529:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"content",staticClass:"content"},[n("head1"),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{staticClass:"article",attrs:{sm:22,md:20,lg:16}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[n("div",{staticClass:"article-top"},[n("h1",[t._v(t._s(t.articleContent.article_title))]),n("div",{staticClass:"article-info"},[n("span",[n("i",{staticClass:"fa fa-clock-o",attrs:{"aria-hidden":"true"}}),n("i",[t._v(" "+t._s(t.articleContent.article_date))])]),n("span",[n("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),n("i",[t._v(" "+t._s(t.articleContent.user_nickname))])]),n("span",[n("i",{staticClass:"fa fa-folder-open-o",attrs:{"aria-hidden":"true"}}),n("i",[t._v(" "+t._s(t.articleContent.label_name))])])]),n("div",{staticClass:"article-say"},[t._v("愿自己永远年轻，永远保持热泪盈眶，永远在路上 "),n("span",[t._v("--- Mr.Wan")])])]),n("div",{staticClass:"article-content"},[n("div",{staticClass:"highLight markdown-body",domProps:{innerHTML:t._s(t.articleContent.article_content)}})]),n("div",{staticClass:"article-footer"},[n("div",{staticClass:"endButton"},[t._v("完")])]),n("comment")],1)])],1),n("copyright")],1)},s=[],i=n("735b"),o=n("dd8c"),r=n.n(o),c=n("37ab"),m=n.n(c),u=(n("5a38"),n("8ca9")),l=n("3c17");n("b4fb"),n("053b"),n("ea51");n("f3dd"),n("0a51"),n("9b11"),n("98e0"),n("e18c"),n("96db"),n("af86");n("9b1a");var d=n("9d8e");var f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("div",{staticClass:"comment-top"},[n("div",{staticClass:"comment-input"},[t.isLogin?n("div",{staticClass:"toLogin"},[n("a",{on:{click:function(e){return t.$router.push({name:"Login"})}}},[t._v("登录")]),t._v("后才可以发表评论哦。。。 ")]):n("div",{staticClass:"toComment"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentSubmit.commentContent,expression:"commentSubmit.commentContent"}],attrs:{placeholder:"想说点什么呢～"},domProps:{value:t.commentSubmit.commentContent},on:{input:function(e){e.target.composing||t.$set(t.commentSubmit,"commentContent",e.target.value)}}})])]),n("el-button",{staticClass:"commentButton",attrs:{type:"primary",size:"medium",round:""},on:{click:t.submitComment}},[t._v("发表评论")])],1),0===this.commentCounts?n("div",{staticStyle:{background:"#f0f0f0","text-align":"center",opacity:".5",margin:"70px 0 0",height:"30px"}},[n("span",{staticStyle:{"line-height":"30px","font-size":"14px"}},[t._v("求求你了，来一条评论吧。。。")])]):n("div",{staticClass:"comment-content"},[t._m(0),n("div",{staticClass:"comment-info"},[n("i",{staticClass:"el-icon-more"}),t._v(" 全部评论（"+t._s(t.commentCounts)+"） ")]),n("div",{staticClass:"comment-body"},t._l(t.commentData,(function(e,a){return n("div",{key:a,staticClass:"comment-item"},[n("div",{staticClass:"container"},[t._m(1,!0),n("div",{staticClass:"comment-group"},[n("div",{staticClass:"user-info"},[n("span",{staticClass:"user-name"},[t._v(t._s(e.username)+" ")]),n("span",{staticClass:"comment-floor"},[t._v("#"+t._s(e.floor)+"楼")]),n("span",{staticClass:"publish-date"},[t._v(t._s(e.submitDate))])]),n("div",{staticClass:"comment-say"},[t._v(t._s(e.content))]),n("div",{staticClass:"reply"},[t._l(e.reply,(function(s,i){return n("div",{key:i,staticClass:"reply-item"},[n("div",{staticClass:"reply-top"},[n("a",[t._v(t._s(s.username))]),t._v("： "),n("a",[t._v("@"+t._s(s.toName)+" ")]),t._v(" "+t._s(s.content)+" ")]),n("div",{staticClass:"reply-tool"},[n("span",{staticClass:"reply-date"},[t._v(t._s(s.submitDate))]),n("a",{on:{click:function(n){return t.replyButton(e,s)}}},[n("i",{staticClass:"el-icon-chat-line-round"}),t._v(" 回复")])]),n("hr"),n("div",{directives:[{name:"show",rawName:"v-show",value:s.isInput,expression:"element.isInput"}],staticClass:"reply-submit"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:s.submitContent,expression:"element.submitContent"}],staticClass:"reply-textarea",attrs:{placeholder:"想对他/她说些什么呢～"},domProps:{value:s.submitContent},on:{input:function(e){e.target.composing||t.$set(s,"submitContent",e.target.value)}}}),n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(n){return t.submitReply(e,a,s)}}},[t._v("发表")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){s.isInput=!1,e.submitContent=""}}},[t._v("取消")])],1)])})),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isInput,expression:"!item.isInput"}],staticClass:"more-reply"},[n("a",{on:{click:function(n){return t.commentClick(e)}}},[n("i",{staticClass:"el-icon-edit-outline"}),t._v(" 添加新评论")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isInput,expression:"item.isInput"}],staticClass:"reply-submit"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.submitContent,expression:"item.submitContent"}],staticClass:"reply-textarea",attrs:{placeholder:"发表下你的见解吧～"},domProps:{value:e.submitContent},on:{input:function(n){n.target.composing||t.$set(e,"submitContent",n.target.value)}}}),n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(n){return t.submitReply(e,a)}}},[t._v("发表")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.isInput=!1,e.submitContent=""}}},[t._v("取消")])],1)],2)])]),n("hr")])})),0)])])},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-top"},[n("span",{staticClass:"comment-word"},[t._v("评论")]),n("div",{staticClass:"comment-line"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-img"},[a("img",{attrs:{src:n("2f08"),alt:""}})])}],v=(n("ecb4"),n("b449"),n("85ff")),b=n("4a76"),C=n("fa7d"),h={components:{},data:function(){return{commentCounts:null,isShow:!1,commentSubmit:{articleId:this.$route.query.id,commentContent:"",answerId:this.$store.state.currentUserId,commentDate:null},commentId:[],commentData:[],replyItem:{fromUsername:"",fromUserId:null,toUsername:"",toUserId:null,submitDate:null,content:""}}},computed:{isLogin:function(){return!this.$store.state.isLogin}},watch:{},methods:{toReply:function(){this.isReply=!0},replyButton:function(t,e){if(this.isLogin)this.$router.push({name:"Login"});else{t.isInput=!1;var n,a=Object(d["a"])(t.reply);try{for(a.s();!(n=a.n()).done;){var s=n.value;s.isInput=!1}}catch(i){a.e(i)}finally{a.f()}e.isInput=!0}},submitComment:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLogin){e.next=11;break}if(t.commentSubmit.commentContent){e.next=4;break}return t.$message("总点写点什么吧～"),e.abrupt("return",!1);case 4:return t.commentSubmit.commentDate=Object(C["a"])(Date.now()),e.next=7,Object(b["f"])(t.commentSubmit);case 7:n=e.sent,0===n.data.errno?(a={},a.commentId=n.data.data,a.content=t.commentSubmit.commentContent,a.floor=t.commentData.length+1,a.isInput=!1,a.pid=0,a.reply=[],a.submitContent="",a.submitDate=t.commentSubmit.commentDate,a.toName=null,a.userId=t.$store.state.currentUserId,a.username=t.$store.state.currentUsername,t.commentData.unshift(a),t.commentSubmit.commentContent="",t.commentCounts+=1):alert("评论失败"),e.next=12;break;case 11:t.$router.push({name:"Login"});case 12:case"end":return e.stop()}}),e)})))()},submitReply:function(t,e,n){var a=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var s,i,o,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s={},a.isLogin){e.next=35;break}if(!n){e.next=20;break}if(n.submitContent){e.next=7;break}return n.isInput=!1,a.$message("总点写点什么吧～"),e.abrupt("return",!1);case 7:return s.submitDate=Object(C["a"])(Date.now()),s.content=n.submitContent,s.fromId=a.$store.state.currentUserId,s.toId=n.userId,s.pid=t.commentId,s.articleId=a.$route.query.id,e.next=15,Object(b["i"])(s);case 15:i=e.sent,n.submitContent="",0===i.data.errno?(o={},o.commentId=i.data.data,o.content=s.content,o.floor=null,o.isInput=!1,o.pid=t.commentId,o.reply=[],o.submitContent="",o.submitDate=s.submitDate,o.toName=n.username,o.userId=a.$store.state.currentUserId,o.username=a.$store.state.currentUsername,n.isInput=!1,t.reply.push(o),a.commentCounts+=1):alert("评论失败"),e.next=35;break;case 20:if(t.submitContent){e.next=24;break}return t.isInput=!1,a.$message("总点写点什么吧～"),e.abrupt("return",!1);case 24:return s.submitDate=Object(C["a"])(Date.now()),s.content=t.submitContent,s.fromId=a.$store.state.currentUserId,s.toId=t.userId,s.pid=t.commentId,s.articleId=a.$route.query.id,e.next=32,Object(b["i"])(s);case 32:r=e.sent,t.submitContent="",0===r.data.errno?(c={},c.commentId=r.data.data,c.content=s.content,c.floor=null,c.isInput=!1,c.pid=t.commentId,c.reply=[],c.submitContent="",c.submitDate=s.submitDate,c.toName=t.username,c.userId=a.$store.state.currentUserId,c.username=a.$store.state.currentUsername,t.isInput=!1,t.reply.push(c),a.commentCounts+=1):alert("评论失败");case 35:case"end":return e.stop()}}),e)})))()},commentClick:function(t){if(this.isLogin)this.$router.push({name:"Login"});else{var e,n=Object(d["a"])(t.reply);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.isInput=!1}}catch(s){n.e(s)}finally{n.f()}t.isInput=!0}},dealComment:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commentSubmit.commentContent="",t.commentData=[],t.commentId=[],e.next=5,Object(b["b"])(t.$route.query.id);case 5:for(n=e.sent,a=n.data.data,t.commentCounts=a.length,s=0;s<a.length;s++)i={username:"",userId:null,floor:null,submitDate:null,content:"",isInput:!1,commentId:null,submitContent:"",toName:null,pid:0,reply:[]},0===a[s].pid?(i.username=a[s].fromName,i.userId=a[s].fromId,i.floor=s+1,i.submitDate=a[s].commentDate,i.content=a[s].commentContent,i.commentId=a[s].id,t.commentId.unshift(i.commentId),t.commentData.unshift(i)):(o=t.commentId.indexOf(a[s].pid),i.username=a[s].fromName,i.userId=a[s].fromId,i.submitDate=a[s].commentDate,i.content=a[s].commentContent,i.commentId=a[s].id,i.toName=a[s].toName,i.pid=a[s].pid,t.commentData[o].reply.push(i));case 9:case"end":return e.stop()}}),e)})))()}},created:function(){},mounted:function(){this.dealComment()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},y=h,I=(n("70cd"),n("9ca4")),_=Object(I["a"])(y,f,p,!1,null,"1c2dd40e",null),g=_.exports;r.a.setOptions({renderer:new r.a.Renderer,highlight:function(t){return m.a.highlightAuto(t).value},pedantic:!1,gfm:!0,tables:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1});var w={components:{head1:u["a"],comment:g,copyright:l["a"]},data:function(){return{articleContent:{},isShow:!1}},computed:{articleIndex:function(){return this.$route.query.id}},watch:{},methods:{},created:function(){var t=this,e=this.$route.query.id;Object(i["c"])(e).then((function(e){t.articleContent=e.data.data,t.articleContent.article_content=r()(t.articleContent.article_content)})).then((function(){t.$nextTick((function(){t.isShow=!0}))}))},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){document.body.onscroll=null},activated:function(){}},x=w,k=(n("6ba4"),Object(I["a"])(x,a,s,!1,null,"6fd5c64c",null));e["default"]=k.exports},aa0e:function(t,e,n){},b4fb:function(t,e,n){"use strict";var a=n("1c8b"),s=n("efe2"),i=n("74e7"),o=n("a719"),r=n("3553"),c=n("d88d"),m=n("1bbd"),u=n("1ca1"),l=n("1ea7"),d=n("90fb"),f=n("f594"),p=d("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",C=f>=51||!s((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),h=l("concat"),y=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:i(t)},I=!C||!h;a({target:"Array",proto:!0,forced:I},{concat:function(t){var e,n,a,s,i,o=r(this),l=u(o,0),d=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?o:arguments[e],y(i)){if(s=c(i.length),d+s>v)throw TypeError(b);for(n=0;n<s;n++,d++)n in i&&m(l,d,i[n])}else{if(d>=v)throw TypeError(b);m(l,d++,i)}return l.length=d,l}})}}]);
//# sourceMappingURL=chunk-151fe62a.21c3af09.js.map